webpackJsonp([1],{"7abX":function(e,t){},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o("7+uW"),n=o("bOdI"),l=o.n(n),a=o("mvHQ"),c=o.n(a);var i={name:"Connection",props:["connProp","overdue","apiURL"],data:function(){return{conn:this.connProp}},methods:{patch:function(e){$.ajax({url:this.apiURL+this.conn._id,data:c()(l()({},e,this.conn[e])),type:"PATCH",contentType:"application/json",dataType:"json"})},done:function(){this.conn.date="",this.patch("date")},snooze:function(){var e,t=parseInt($("#snoozeAmount").val()),o=$("#snoozeInterval").val();"weeks"==o?t*=7:"months"==o&&(t*=30),this.conn.date=(e=new Date(Date.now()+24*t*60*60*1e3),new Date(e).toISOString().slice(0,10)),this.patch("date")}},watch:{"conn.date":function(e,t){this.patch("date")}}},r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"connection"},[o("div",{class:[(e.overdue,"col-lg-offset-1 col-lg-2 col-md-offset-1 col-md-2 col-sm-offset-1 col-sm-3 col-xs-offset-1 col-xs-3"),"info"]},[o("img",{staticClass:"profileImg",attrs:{src:e.conn.info.profileImg}})]),e._v(" "),o("div",{class:[e.overdue?"col-lg-offset-0 col-lg-5 col-md-offset-0 col-md-7 col-sm-offset-0 col-sm-9 col-xs-offset-1 col-xs-24":"col-lg-offset-0 col-lg-5 col-md-offset-0 col-md-5 col-sm-offset-0 col-sm-9 col-xs-offset-1 col-xs-24","infoText"]},[o("a",{attrs:{href:e.conn.connURL,target:"_blank"}},[e._v(e._s(e.conn.info.name))]),e._v(" "),o("br"),e._v(" "),o("p",[e._v(e._s(e.conn.info.bio))])]),e._v(" "),o("div",{class:[e.overdue?"col-lg-offset-0 col-lg-5 col-md-offset-0 col-md-19 col-sm-offset-0 col-sm-16 col-xs-offset-1 col-xs-28":"col-lg-offset-0 col-lg-7 col-md-offset-0 col-md-6 col-sm-offset-0 col-sm-16 col-xs-offset-1 col-xs-28","notes"]},[o("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.conn.notes,expression:"conn.notes",modifiers:{lazy:!0}}],attrs:{placeholder:"Notes"},domProps:{value:e.conn.notes},on:{change:[function(t){e.$set(e.conn,"notes",t.target.value)},function(t){e.patch("notes")}]}})]),e._v(" "),o("div",{class:[e.overdue?"col-lg-offset-0 col-lg-4 col-md-offset-1 col-md-5 col-sm-offset-1 col-sm-6 col-xs-offset-1 col-xs-10":"col-lg-offset-0 col-lg-4 col-md-offset-0 col-md-5 col-sm-offset-1 col-sm-6 col-xs-offset-1 col-xs-10","value"]},[o("star-rating",{attrs:{"star-size":25,"show-rating":!1},on:{"rating-selected":function(t){e.patch("value")}},model:{value:e.conn.value,callback:function(t){e.$set(e.conn,"value",t)},expression:"conn.value"}})],1),e._v(" "),o("div",{class:[e.overdue?"col-lg-offset-0 col-lg-3 col-md-offset-0 col-md-4 col-sm-offset-1 col-sm-5 col-xs-offset-0 col-xs-7":"col-lg-offset-0 col-lg-3 col-md-offset-0 col-md-4 col-sm-offset-0 col-sm-6 col-xs-offset-0 col-xs-7","dueDate"]},[o("datepicker",{attrs:{"input-class":"form-control dateInput"},model:{value:e.conn.date,callback:function(t){e.$set(e.conn,"date",t)},expression:"conn.date"}})],1),e._v(" "),o("div",{class:[e.overdue?"col-lg-offset-0 col-lg-5 col-md-offset-0 col-md-14 col-sm-offset-0 col-sm-10 col-xs-offset-1 col-xs-28":"col-lg-offset-0 col-lg-7 col-md-offset-0 col-md-6 col-sm-offset-0 col-sm-16 col-xs-offset-1 col-xs-28","tags"]},[o("input-tag",{attrs:{tags:e.conn.tags},on:{"update:tags":[function(t){e.$set(e.conn,"tags",t)},function(t){e.patch("tags")}]}})],1),e._v(" "),e.overdue?o("div",{staticClass:"actions col-lg-offset-0 col-lg-4 col-md-offset-0 col-md-5 col-sm-offset-0 col-sm-6 col-xs-offset-1 col-xs-28"},[o("button",{staticClass:"btn doneBtn",on:{click:e.done}},[e._v("Done")]),o("button",{staticClass:"btn btn-warning snoozeBtn",on:{click:e.snooze}},[e._v("Snooze")])]):e._e()])},staticRenderFns:[]};var f=o("VU/8")(i,r,!1,function(e){o("7abX")},null,null).exports,v={name:"Search",props:["connectionsProp","apiURL"],data:function(){return{sortKey:"value",reverse:!1,nameTitleFilter:"",notesFilter:"",tagsFilter:"",dateFilter:"",valueFilter:"",columns:["notes","date","value","tags"],connections:this.connectionsProp}},computed:{filteredConnections:function(){var e=this;return this.connections.filter(function(t){return(!e.nameTitleFilter||t.info.name.toLowerCase().includes(e.nameTitleFilter.toLowerCase())||t.info.bio.toLowerCase().includes(e.nameTitleFilter.toLowerCase()))&&(!e.notesFilter||t.notes.toLowerCase().includes(e.notesFilter.toLowerCase()))&&(!e.tagsFilter||t.tags.find(function(t){return t.toLowerCase().includes(e.tagsFilter.toLowerCase())}))&&(!e.dateFilter||new Date(t.date).toDateString()==new Date(e.dateFilter).toDateString())&&(!e.valueFilter||t.value>=e.valueFilter)})}},methods:{sortBy:function(e,t){var o=this;this.reverse=t,this.sortKey=e,"date"==e?this.connections.sort(function(e,t){return e.date||t.date?e.date?t.date?o.reverse?new Date(t.date)-new Date(e.date):new Date(e.date)-new Date(t.date):-1:1:0}):this.connections.sort(function(e,t){return o.reverse?t[o.sortKey]-e[o.sortKey]:e[o.sortKey]-t[o.sortKey]})}}},d={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"search"}},[o("div",{staticClass:"row searchHeading"},[o("div",{staticClass:"headingWrapper"},[o("div",{staticClass:"col-lg-offset-3 col-lg-5 col-md-offset-1 col-md-6 col-sm-offset-1 col-sm-14 col-xs-offset-1 col-xs-14"},[e._v("\n              Name/title\n              "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.nameTitleFilter,expression:"nameTitleFilter"}],staticClass:"form-control",attrs:{placeholder:"filter names/titles"},domProps:{value:e.nameTitleFilter},on:{input:function(t){t.target.composing||(e.nameTitleFilter=t.target.value)}}})]),e._v(" "),o("div",{staticClass:"col-lg-offset-0 col-lg-7 col-md-offset-0 col-md-6 col-sm-offset-0 col-sm-14 col-xs-offset-0 col-xs-14"},[e._v("\n              Notes\n              "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.notesFilter,expression:"notesFilter"}],staticClass:"form-control",attrs:{placeholder:"filter notes"},domProps:{value:e.notesFilter},on:{input:function(t){t.target.composing||(e.notesFilter=t.target.value)}}})]),e._v(" "),o("div",{staticClass:"col-lg-offset-0 col-lg-4 col-md-offset-0 col-md-5 col-sm-offset-1 col-sm-6 col-xs-offset-1 col-xs-6"},[e._v("\n              Value\n              "),o("a",{class:{activeSort:"value"==e.sortKey&&0==e.reverse},attrs:{href:"#"},on:{click:function(t){e.sortBy("value",!1)}}},[e._v("▲")]),e._v(" "),o("a",{class:{activeSort:"value"==e.sortKey&&1==e.reverse},attrs:{href:"#"},on:{click:function(t){e.sortBy("value",!0)}}},[e._v("▼")]),e._v(" "),o("br"),e._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:e.valueFilter,expression:"valueFilter"}],staticClass:"valueFilterSelect",on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.valueFilter=t.target.multiple?o:o[0]}}},[o("option",{attrs:{value:""}},[e._v("Value")]),e._v(" "),o("option",{attrs:{value:"1"}},[e._v("1")]),e._v(" "),o("option",{attrs:{value:"2"}},[e._v("2")]),e._v(" "),o("option",{attrs:{value:"3"}},[e._v("3")]),e._v(" "),o("option",{attrs:{value:"4"}},[e._v("4")]),e._v(" "),o("option",{attrs:{value:"5"}},[e._v("5")])])]),e._v(" "),o("div",{staticClass:"col-lg-offset-0 col-lg-3 col-md-offset-0 col-md-4 col-sm-offset-1 col-sm-6 col-xs-offset-1 col-xs-6 dateHead"},[e._v("\n              Date\n              "),e._v(" "),o("a",{class:{activeSort:"date"==e.sortKey&&0==e.reverse},attrs:{href:"#"},on:{click:function(t){e.sortBy("date",!1)}}},[e._v("▲")]),e._v(" "),o("a",{class:{activeSort:"date"==e.sortKey&&1==e.reverse},attrs:{href:"#"},on:{click:function(t){e.sortBy("date",!0)}}},[e._v("▼")])]),e._v(" "),o("div",{staticClass:"col-lg-offset-0 col-lg-7 col-md-offset-0 col-md-7 col-sm-offset-1 col-sm-14 col-xs-offset-1 col-xs-14"},[e._v("\n              Tags\n              "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.tagsFilter,expression:"tagsFilter"}],staticClass:"form-control",attrs:{placeholder:"filter tags"},domProps:{value:e.tagsFilter},on:{input:function(t){t.target.composing||(e.tagsFilter=t.target.value)}}})])])]),e._v(" "),o("br"),e._v(" "),o("hr"),e._v(" "),o("div",{staticClass:"container-fluid"},e._l(e.filteredConnections,function(t){return o("div",{key:t._id,staticClass:"row"},[o("connection",{attrs:{connProp:t,overdue:!1,apiURL:e.apiURL}})],1)}))])},staticRenderFns:[]};var u=o("VU/8")(v,d,!1,function(e){o("fZ+z")},null,null).exports,m={name:"Overdue",props:["connectionsProp","apiURL"],data:function(){return{sortKey:"value",reverse:!1,nameTitleFilter:"",notesFilter:"",tagsFilter:"",dateFilter:"",valueFilter:"",columns:["notes","date","value","tags"],connections:this.connectionsProp}},computed:{filteredConnections:function(){var e=this;return this.connections.filter(function(t){return new Date(t.date)<new Date&&(!e.nameTitleFilter||t.info.name.toLowerCase().includes(e.nameTitleFilter.toLowerCase())||t.info.bio.toLowerCase().includes(e.nameTitleFilter.toLowerCase()))&&(!e.notesFilter||t.notes.toLowerCase().includes(e.notesFilter.toLowerCase()))&&(!e.tagsFilter||t.tags.find(function(t){return t.toLowerCase().includes(e.tagsFilter.toLowerCase())}))&&(!e.dateFilter||new Date(t.date).toDateString()==new Date(e.dateFilter).toDateString())&&(!e.valueFilter||t.value>=e.valueFilter)})}},methods:{sortBy:function(e,t){var o=this;this.reverse=t,this.sortKey=e,"date"==e?this.connections.sort(function(e,t){return e.date||t.date?e.date?t.date?o.reverse?new Date(t.date)-new Date(e.date):new Date(e.date)-new Date(t.date):-1:1:0}):this.connections.sort(function(e,t){return o.reverse?e[o.sortKey]-t[o.sortKey]:t[o.sortKey]-e[o.sortKey]})}}},p={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"overdue"}},[o("div",{staticClass:"row searchHeading"},[o("div",{staticClass:"headingWrapper"},[o("div",{staticClass:"col-lg-offset-3 col-lg-5 col-md-offset-1 col-md-6 col-sm-offset-1 col-sm-14 col-xs-offset-1 col-xs-14"},[e._v("\n              Name/title\n              "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.nameTitleFilter,expression:"nameTitleFilter"}],staticClass:"form-control",attrs:{placeholder:"filter names/titles"},domProps:{value:e.nameTitleFilter},on:{input:function(t){t.target.composing||(e.nameTitleFilter=t.target.value)}}})]),e._v(" "),o("div",{staticClass:"col-lg-offset-0 col-lg-5 col-md-offset-0 col-md-6 col-sm-offset-0 col-sm-14 col-xs-offset-0 col-xs-14"},[e._v("\n              Notes\n              "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.notesFilter,expression:"notesFilter"}],staticClass:"form-control",attrs:{placeholder:"filter notes"},domProps:{value:e.notesFilter},on:{input:function(t){t.target.composing||(e.notesFilter=t.target.value)}}})]),e._v(" "),o("div",{staticClass:"col-lg-offset-0 col-lg-4 col-md-offset-0 col-md-4 col-sm-offset-1 col-sm-5 col-xs-offset-1 col-xs-6"},[e._v("\n              Value\n              "),o("a",{class:{activeSort:"value"==e.sortKey&&0==e.reverse},attrs:{href:"#"},on:{click:function(t){e.sortBy("value",!1)}}},[e._v("▲")]),e._v(" "),o("a",{class:{activeSort:"value"==e.sortKey&&1==e.reverse},attrs:{href:"#"},on:{click:function(t){e.sortBy("value",!0)}}},[e._v("▼")]),e._v(" "),o("br"),e._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:e.valueFilter,expression:"valueFilter"}],staticClass:"valueFilterSelect",on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.valueFilter=t.target.multiple?o:o[0]}}},[o("option",{attrs:{value:""}},[e._v("Value")]),e._v(" "),o("option",{attrs:{value:"1"}},[e._v("1")]),e._v(" "),o("option",{attrs:{value:"2"}},[e._v("2")]),e._v(" "),o("option",{attrs:{value:"3"}},[e._v("3")]),e._v(" "),o("option",{attrs:{value:"4"}},[e._v("4")]),e._v(" "),o("option",{attrs:{value:"5"}},[e._v("5")])])]),e._v(" "),o("div",{staticClass:"col-lg-offset-0 col-lg-3 col-md-offset-0 col-md-4 col-sm-offset-0 col-sm-4 col-xs-offset-1 col-xs-6 dateHead"},[e._v("\n              Date\n              "),o("a",{class:{activeSort:"date"==e.sortKey&&0==e.reverse},attrs:{href:"#"},on:{click:function(t){e.sortBy("date",!1)}}},[e._v("▲")]),e._v(" "),o("a",{class:{activeSort:"date"==e.sortKey&&1==e.reverse},attrs:{href:"#"},on:{click:function(t){e.sortBy("date",!0)}}},[e._v("▼")])]),e._v(" "),o("div",{staticClass:"col-lg-offset-0 col-lg-5 col-md-offset-0 col-md-8 col-sm-offset-0 col-sm-19 col-xs-offset-1 col-xs-14"},[e._v("\n              Tags\n              "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.tagsFilter,expression:"tagsFilter"}],staticClass:"form-control",attrs:{placeholder:"filter tags"},domProps:{value:e.tagsFilter},on:{input:function(t){t.target.composing||(e.tagsFilter=t.target.value)}}})]),e._v(" "),o("div",{staticClass:"col-lg-offset-0 col-lg-4 hidden-md hidden-sm hidden-xs"},[e._v("\n              Actions\n          ")])])]),e._v(" "),o("br"),e._v(" "),o("hr"),e._v(" "),o("div",{staticClass:"container-fluid"},e._l(e.filteredConnections,function(t){return o("div",{key:t._id,staticClass:"row"},[o("connection",{attrs:{connProp:t,overdue:!0,apiURL:e.apiURL}})],1)}))])},staticRenderFns:[]};var g=o("VU/8")(m,p,!1,function(e){o("RC/x")},null,null).exports,_=o("X+2x"),h=o.n(_),F=o("bivj"),x=o.n(F),C=o("28+M"),w=o.n(C);s.a.component("connection",f),s.a.component("search",u),s.a.component("overdue",g),s.a.component("StarRating",h.a),s.a.component("datepicker",x.a),s.a.component("InputTag",w.a),s.a.config.productionTip=!1;var y="/connections/",L=[];$(".tablink").on("click",function(e){e.preventDefault();var t=$(this).attr("data-id");$(".tab-pane.show, .tab-pane.active").removeClass("show active"),$("#"+t).addClass("show active")}),function e(){$.get(y).done(function(e){console.log(e),L=e,new s.a({el:"#search",components:{Search:u},data:{connections:L,apiURL:y},template:"<Search :connectionsProp='connections' :apiURL='apiURL'/>"}),new s.a({el:"#overdue",components:{Overdue:g},data:{connections:L,apiURL:y},template:"<Overdue :connectionsProp='connections' :apiURL='apiURL'/>"}),window.location.hash?$("#"+window.location.hash.substr(1)).addClass("active"):$("#search").addClass("active")}).fail(function(){e()})}()},"RC/x":function(e,t){},"fZ+z":function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.js.map